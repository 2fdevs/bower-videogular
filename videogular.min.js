/**
 * @license videogular v1.2.5 http://videogular.com
 * Two Fucking Developers http://twofuckingdevelopers.com
 * License: MIT
 */
"use strict"
console.log("### using re-videogular"),angular.module("com.2fdevs.videogular",["ngSanitize"]).run(["$templateCache",function(e){e.put("vg-templates/vg-media-video","<video></video>"),e.put("vg-templates/vg-media-audio","<audio></audio>"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")
var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))}
return n.prototype=this.prototype,r.prototype=new n,r})}]),angular.module("com.2fdevs.videogular").constant("VG_STATES",{PLAY:"play",PAUSE:"pause",STOP:"stop"}).constant("VG_VOLUME_KEY","videogularVolume"),angular.module("com.2fdevs.videogular").controller("vgController",["$scope","$window","vgConfigLoader","vgFullscreen","VG_UTILS","VG_STATES","VG_VOLUME_KEY",function(e,t,i,n,r,a,o){var s=null,l=!1,u=!1,c=!1,d=!1
this.videogularElement=null,this.clearMedia=function(){this.mediaElement[0].src=""},this.onCanPlay=function(t){this.isBuffering=!1,e.$apply(e.vgCanPlay({$event:t})),!c&&this.startTime>0&&(this.seekTime(this.startTime),c=!0)},this.onVideoReady=function(){this.isReady=!0,this.autoPlay=e.vgAutoPlay,this.playsInline=e.vgPlaysInline,this.cuePoints=e.vgCuePoints,this.startTime=e.vgStartTime,this.virtualClipDuration=e.vgVirtualClipDuration,this.currentState=a.STOP,u=!0,d=this.startTime>0&&this.virtualClipDuration>0,r.supportsLocalStorage()&&this.setVolume(parseFloat(t.localStorage.getItem(o)||"1")),e.vgConfig?i.loadConfig(e.vgConfig).then(this.onLoadConfig.bind(this)):e.vgPlayerReady({$API:this})},this.onLoadConfig=function(t){this.config=t,e.vgTheme=this.config.theme,e.vgAutoPlay=this.config.autoPlay,e.vgPlaysInline=this.config.playsInline,e.vgCuePoints=this.config.cuePoints,e.vgStartTime=this.config.startTime,e.vgVirtualClipDuration=this.config.virtualClipDuration,d=e.vgStartTime>0&&e.vgVirtualClipDuration>0,e.vgPlayerReady({$API:this})},this.onLoadMetaData=function(e){this.isBuffering=!1,this.onUpdateTime(e)},this.onUpdateTime=function(t){var i=1e3*t.target.currentTime
t.target.duration!=1/0?(d?c&&(t.target.currentTime<this.startTime||t.target.currentTime-this.startTime>this.virtualClipDuration)?(this.pause(),this.seekTime(this.startTime)):(this.currentTime=Math.max(0,i-1e3*this.startTime),this.totalTime=1e3*this.virtualClipDuration,this.timeLeft=1e3*(this.totalTime-this.currentTime)):(this.currentTime=i,this.totalTime=1e3*t.target.duration,this.timeLeft=1e3*(t.target.duration-t.target.currentTime)),this.isLive=!1):(this.currentTime=i,this.isLive=!0)
var n=d?this.currentTime/1e3:t.target.currentTime,r=d?this.totalTime/1e3:t.target.duration
this.cuePoints&&this.checkCuePoints(n),e.vgUpdateTime({$currentTime:n,$duration:r}),e.$apply()},this.checkCuePoints=function(e){for(var t in this.cuePoints)for(var i=0,n=this.cuePoints[t].length;n>i;i++){var r=this.cuePoints[t][i]
r.timeLapse.end||(r.timeLapse.end=r.timeLapse.start+1),e<r.timeLapse.end&&(r.$$isCompleted=!1),e>r.timeLapse.start?(r.$$isDirty=!0,e<r.timeLapse.end&&r.onUpdate&&r.onUpdate(e,r.timeLapse,r.params),e>=r.timeLapse.end&&r.onComplete&&!r.$$isCompleted&&(r.$$isCompleted=!0,r.onComplete(e,r.timeLapse,r.params))):(r.onLeave&&r.$$isDirty&&r.onLeave(e,r.timeLapse,r.params),r.$$isDirty=!1)}},this.onPlay=function(){this.setState(a.PLAY),e.$apply()},this.onPause=function(){0==this.mediaElement[0].currentTime?this.setState(a.STOP):this.setState(a.PAUSE),e.$apply()},this.onVolumeChange=function(){this.volume=this.mediaElement[0].volume,e.$apply()},this.onPlaybackChange=function(){this.playback=this.mediaElement[0].playbackRate,e.$apply()},this.seekTime=function(e,t){var i
if(t)d?(i=e*this.virtualClipDuration/100,this.mediaElement[0].currentTime=this.startTime+i):(i=e*this.mediaElement[0].duration/100,this.mediaElement[0].currentTime=i)
else if(d){var n=e/this.mediaElement[0].duration
i=c?this.virtualClipDuration*n:0,this.mediaElement[0].currentTime=c?this.startTime+i:this.startTime}else i=e,this.mediaElement[0].currentTime=i
this.currentTime=1e3*i},this.playPause=function(){this.mediaElement[0].paused?this.play():this.pause()},this.setState=function(t){return t&&t!=this.currentState&&(e.vgUpdateState({$state:t}),this.currentState=t),this.currentState},this.play=function(){this.mediaElement[0].play(),this.setState(a.PLAY)},this.pause=function(){this.mediaElement[0].pause(),this.setState(a.PAUSE)},this.stop=function(){try{this.mediaElement[0].pause()
var e=d?this.startTime:0
this.mediaElement[0].currentTime=e,this.currentTime=e,this.setState(a.STOP)}catch(t){return t}},this.toggleFullScreen=function(){!n.isAvailable||e.vgPlaysInline?(this.isFullScreen?(this.videogularElement.removeClass("fullscreen"),this.videogularElement.css("z-index","auto")):(this.videogularElement.addClass("fullscreen"),this.videogularElement.css("z-index",r.getZIndex())),this.isFullScreen=!this.isFullScreen):this.isFullScreen?r.isMobileDevice()||n.exit():r.isMobileDevice()?r.isiOSDevice()?u?this.enterElementInFullScreen(this.mediaElement[0]):(l=!0,this.play()):this.enterElementInFullScreen(this.mediaElement[0]):this.enterElementInFullScreen(this.videogularElement[0])},this.enterElementInFullScreen=function(e){n.request(e)},this.changeSource=function(t){c=!1,e.vgChangeSource({$source:t})},this.setVolume=function(i){e.vgUpdateVolume({$volume:i}),this.mediaElement[0].volume=i,this.volume=i,r.supportsLocalStorage()&&t.localStorage.setItem(o,i.toString())},this.setPlayback=function(t){e.vgUpdatePlayback({$playBack:t}),this.mediaElement[0].playbackRate=t,this.playback=t},this.updateTheme=function(e){var t,i,n=document.getElementsByTagName("link")
if(s)for(t=0,i=n.length;i>t;t++)if(n[t].outerHTML.indexOf(s)>=0){n[t].parentNode.removeChild(n[t])
break}if(e){var r=angular.element(document).find("head"),a=!1
for(t=0,i=n.length;i>t&&!(a=n[t].outerHTML.indexOf(e)>=0);t++);a||r.append("<link rel='stylesheet' href='"+e+"'>"),s=e}},this.onStartBuffering=function(t){this.isBuffering=!0,e.$apply()},this.onStartPlaying=function(t){this.isBuffering=!1,e.$apply()},this.onComplete=function(t){e.vgComplete(),this.setState(a.STOP),this.isCompleted=!0,e.$apply()},this.onVideoError=function(t){e.vgError({$event:t})},this.addListeners=function(){this.mediaElement[0].addEventListener("canplay",this.onCanPlay.bind(this),!1),this.mediaElement[0].addEventListener("loadedmetadata",this.onLoadMetaData.bind(this),!1),this.mediaElement[0].addEventListener("waiting",this.onStartBuffering.bind(this),!1),this.mediaElement[0].addEventListener("ended",this.onComplete.bind(this),!1),this.mediaElement[0].addEventListener("playing",this.onStartPlaying.bind(this),!1),this.mediaElement[0].addEventListener("play",this.onPlay.bind(this),!1),this.mediaElement[0].addEventListener("pause",this.onPause.bind(this),!1),this.mediaElement[0].addEventListener("volumechange",this.onVolumeChange.bind(this),!1),this.mediaElement[0].addEventListener("playbackchange",this.onPlaybackChange.bind(this),!1),this.mediaElement[0].addEventListener("timeupdate",this.onUpdateTime.bind(this),!1),this.mediaElement[0].addEventListener("error",this.onVideoError.bind(this),!1)},this.init=function(){this.isReady=!1,this.isCompleted=!1,this.currentTime=0,this.totalTime=0,this.timeLeft=0,this.isLive=!1,this.isFullScreen=!1,this.isConfig=void 0!=e.vgConfig,n.isAvailable&&(this.isFullScreen=n.isFullScreen()),this.updateTheme(e.vgTheme),this.addBindings(),n.isAvailable&&document.addEventListener(n.onchange,this.onFullScreenChange.bind(this))},this.onUpdateTheme=function(e){this.updateTheme(e)},this.onUpdateAutoPlay=function(e){e&&!this.autoPlay&&(this.autoPlay=e,this.play(this))},this.onUpdateStartTime=function(e){e&&!this.startTime&&(this.startTime=e)},this.onUpdateVirtualClipDuration=function(e){e&&!this.virtualClipDuration&&(this.virtualClipDuration=e)},this.onUpdatePlaysInline=function(e){this.playsInline=e},this.onUpdateCuePoints=function(e){this.cuePoints=e,this.checkCuePoints(this.currentTime)},this.addBindings=function(){e.$watch("vgTheme",this.onUpdateTheme.bind(this)),e.$watch("vgAutoPlay",this.onUpdateAutoPlay.bind(this)),e.$watch("vgStartTime",this.onUpdateStartTime.bind(this)),e.$watch("vgVirtualClipDuration",this.onUpdateVirtualClipDuration.bind(this)),e.$watch("vgPlaysInline",this.onUpdatePlaysInline.bind(this)),e.$watch("vgCuePoints",this.onUpdateCuePoints.bind(this))},this.onFullScreenChange=function(t){this.isFullScreen=n.isFullScreen(),e.$apply()},e.$on("$destroy",this.clearMedia.bind(this)),e.$on("$routeChangeStart",this.clearMedia.bind(this)),this.init()}]),angular.module("com.2fdevs.videogular").directive("vgCrossorigin",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var r
e.setCrossorigin=function(e){e?n.mediaElement.attr("crossorigin",e):n.mediaElement.removeAttr("crossorigin")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setCrossorigin(n.config.crossorigin)}):e.$watch(i.vgCrossorigin,function(t,i){r&&t==i||!t?e.setCrossorigin():(r=t,e.setCrossorigin(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgLoop",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var r
e.setLoop=function(e){e?n.mediaElement.attr("loop",e):n.mediaElement.removeAttr("loop")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setLoop(n.config.loop)}):e.$watch(i.vgLoop,function(t,i){r&&t==i||!t?e.setLoop():(r=t,e.setLoop(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgMedia",["$timeout","VG_UTILS","VG_STATES",function(e,t,i){return{restrict:"E",require:"^videogular",templateUrl:function(e,t){var i=t.vgType||"video"
return t.vgTemplate||"vg-templates/vg-media-"+i},scope:{vgSrc:"=?",vgType:"=?"},link:function(n,r,a,o){var s
a.vgType&&"video"!==a.vgType?a.vgType="audio":a.vgType="video",n.onChangeSource=function(e,t){s&&e==t||!e||(s=e,o.currentState!==i.PLAY&&(o.currentState=i.STOP),o.sources=s,n.changeSource())},n.changeSource=function(){var i=""
if(o.mediaElement[0].canPlayType){for(var n=0,r=s.length;r>n;n++)if(i=o.mediaElement[0].canPlayType(s[n].type),"maybe"==i||"probably"==i){o.mediaElement.attr("src",s[n].src),o.mediaElement.attr("type",s[n].type),o.changeSource(s[n])
break}}else o.mediaElement.attr("src",s[0].src),o.mediaElement.attr("type",s[0].type),o.changeSource(s[0])
t.isMobileDevice()&&o.mediaElement[0].load(),e(function(){o.autoPlay&&!t.isMobileDevice()&&o.play()}),""==i&&o.onVideoError()},o.mediaElement=r.find(a.vgType),o.sources=n.vgSrc,o.addListeners(),o.onVideoReady(),n.$watch("vgSrc",n.onChangeSource),n.$watch(function(){return o.sources},n.onChangeSource),o.isConfig&&n.$watch(function(){return o.config},function(){o.config&&(n.vgSrc=o.config.sources)})}}}]),angular.module("com.2fdevs.videogular").directive("vgNativeControls",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var r
e.setControls=function(e){e?n.mediaElement.attr("controls",e):n.mediaElement.removeAttr("controls")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setControls(n.config.controls)}):e.$watch(i.vgNativeControls,function(t,i){r&&t==i||!t?e.setControls():(r=t,e.setControls(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgPreload",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var r
e.setPreload=function(e){e?n.mediaElement.attr("preload",e):n.mediaElement.removeAttr("preload")},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setPreload(n.config.preload)}):e.$watch(i.vgPreload,function(t,i){r&&t==i||!t?e.setPreload():(r=t,e.setPreload(r))})}}}}]),angular.module("com.2fdevs.videogular").directive("vgTracks",[function(){return{restrict:"A",require:"^videogular",link:{pre:function(e,t,i,n){var r,a,o
e.onLoadMetaData=function(){e.updateTracks()},e.updateTracks=function(){var t=n.mediaElement.children()
for(a=0,o=t.length;o>a;a++)t[a].remove&&t[a].remove()
if(r)for(a=0,o=r.length;o>a;a++){var i=document.createElement("track")
for(var s in r[a])i[s]=r[a][s]
i.addEventListener("load",e.onLoadTrack.bind(e,i)),n.mediaElement[0].appendChild(i)}},e.onLoadTrack=function(e){e.mode="showing",n.mediaElement[0].textTracks[0].mode="showing"},e.setTracks=function(t){r=t,n.tracks=t,n.mediaElement[0].addEventListener("loadedmetadata",e.onLoadMetaData.bind(e),!1)},n.isConfig?e.$watch(function(){return n.config},function(){n.config&&e.setTracks(n.config.tracks)}):e.$watch(i.vgTracks,function(t,i){r&&t==i||e.setTracks(t)})}}}}]),angular.module("com.2fdevs.videogular").directive("videogular",[function(){return{restrict:"EA",scope:{vgTheme:"=?",vgAutoPlay:"=?",vgStartTime:"=?",vgVirtualClipDuration:"=?",vgPlaysInline:"=?",vgCuePoints:"=?",vgConfig:"@",vgCanPlay:"&",vgComplete:"&",vgUpdateVolume:"&",vgUpdatePlayback:"&",vgUpdateTime:"&",vgUpdateState:"&",vgPlayerReady:"&",vgChangeSource:"&",vgError:"&"},controller:"vgController",controllerAs:"API",link:{pre:function(e,t,i,n){n.videogularElement=angular.element(t)}}}}]),angular.module("com.2fdevs.videogular").service("vgConfigLoader",["$http","$q","$sce",function(e,t,i){this.loadConfig=function(n){var r=t.defer()
return e({method:"GET",url:n}).then(function(e){for(var t=e.data,n=0,a=t.sources.length;a>n;n++)t.sources[n].src=i.trustAsResourceUrl(t.sources[n].src)
r.resolve(t)},function(){r.reject()}),r.promise}}]),angular.module("com.2fdevs.videogular").service("vgFullscreen",["VG_UTILS",function(e){function t(){return null!=document[i.element]}var i=null,n={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}}
for(var r in n)if(n[r].enabled in document){i=n[r]
break}e.isiOSDevice()&&(i=n.ios),this.isAvailable=null!=i,i&&(this.onchange=i.onchange,this.onerror=i.onerror,this.isFullScreen=t,this.exit=function(){document[i.exit]()},this.request=function(e){e[i.request]()})}]),angular.module("com.2fdevs.videogular").service("VG_UTILS",["$window",function(e){this.fixEventOffset=function(e){var t=navigator.userAgent.match(/Firefox\/(\d+)/i)
if(t&&Number.parseInt(t.pop())<39){var i=e.currentTarget.currentStyle||window.getComputedStyle(e.target,null),n=parseInt(i.borderLeftWidth,10),r=parseInt(i.borderTopWidth,10),a=e.currentTarget.getBoundingClientRect(),o=e.clientX-n-a.left,s=e.clientY-r-a.top
e.offsetX=o,e.offsetY=s}return e},this.getZIndex=function(){for(var e,t=1,i=document.getElementsByTagName("*"),n=0,r=i.length;r>n;n++)e=parseInt(window.getComputedStyle(i[n])["z-index"]),e>t&&(t=e+1)
return t},this.isMobileDevice=function(){return"undefined"!=typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},this.isiOSDevice=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)},this.supportsLocalStorage=function(){var t="videogular-test-key",i=e.sessionStorage
try{return i.setItem(t,"1"),i.removeItem(t),"localStorage"in e&&null!==e.localStorage}catch(n){return!1}}}])
